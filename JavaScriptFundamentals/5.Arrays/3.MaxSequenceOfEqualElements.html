<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title> Write a script that finds the maximal sequence of equal elements in an array.
		    Example: {2, 1, 1, 2, 3, 3, 2, 2, 2, 1} -->> {2, 2, 2}.
    </title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <label for="inputArrayLength">Input length of array: </label>
    <input id="inputArrayLength" />
    <br />

    <a href="#" onclick="executeScript()">Find the max sequence  of equal elements</a>
    
    <div id="js-console"></div>

    <script src="scripts/js-console.js"></script>
    <script>
        function executeScript() {
            var arrayLength = jsConsole.readInteger('#inputArrayLength');

            if (isNaN(arrayLength) || arrayLength < 1) {
                jsConsole.writeLine('Bad input');
            }
            else {
                var arrayWithNumbers = generateRandomArray(arrayLength);

                var stringArray = arrayWithNumbers.join(' ');

                jsConsole.writeLine('The sequence of numbers is:');
                jsConsole.writeLine(stringArray);
                findMaxSequenceOfEqualElements(arrayWithNumbers);
            }

            function generateRandomArray(lengthOfArray) {
                var randomArray = [];

                for (var index = 0; index < lengthOfArray; index++) {
                    randomArray[index] = Math.floor(Math.random() * 11)     //Random number from 0-10
                }

                return randomArray;
            }

            function findMaxSequenceOfEqualElements(array) {
                var lengthOfSequence = 1;
                var lengthOfMaxSequence = 1;
                var numberInMaxSequence = 0;

                for (var i = 0; i < array.length - 1; i++)
                {
                    if (array[i] == array[i + 1])
                    {
                        lengthOfSequence++;
                    }
                    else
                    {
                        lengthOfSequence = 1;
                    }

                    if (lengthOfSequence > lengthOfMaxSequence)
                    {
                        lengthOfMaxSequence = lengthOfSequence;
                        numberInMaxSequence = array[i];
                    }
                }

                printMembersOfMaxSequence(numberInMaxSequence, lengthOfMaxSequence);

                function printMembersOfMaxSequence(value, length) {
                if (length == 1) {
                    jsConsole.writeLine('No maximal sequence of equal elements is available in the array!');
                    jsConsole.writeLine();
                }
                else {
                    jsConsole.writeLine('The maximal sequence of equal elements in the array is: ');

                    for (var j = 0; j < length; j++)
                    {
                        jsConsole.write(value + " ");
                        
                    }

                    jsConsole.writeLine();
                    jsConsole.writeLine();
                }
            }
            }         
        }
    </script>
</body>
</html>